<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>1Lines - Architecture</title>

    <!-- Bootstrap core CSS-->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template-->
    <link href="../vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

    <!-- Page level plugin CSS-->
    <link href="../vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="../css/sb-admin.css" rel="stylesheet">
    <link rel="stylesheet" href="../styles/default.css">
    <script src="../highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

  </head>

  <body id="page-top">

    <nav class="navbar navbar-expand navbar-dark bg-dark static-top">

      <a class="navbar-brand mr-1" href="../index.html">1 Lines</a>

      <button class="btn btn-link btn-sm text-white order-1 order-sm-0" id="sidebarToggle" href="#">
        <i class="fas fa-bars"></i>
      </button>

      <!-- Navbar Search -->
      

      <!-- Navbar -->
      

    </nav>

    <div id="wrapper">

      <!-- Sidebar -->
      <ul class="sidebar navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="../index.html">
            <i class="fas fa-fw fa-tachometer-alt"></i>
            <span>요약</span>
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            <i class="fas fa-fw fa-folder"></i>
            <span>목록</span>
          </a>
          <div class="dropdown-menu show" aria-labelledby="pagesDropdown">
            <h6 class="dropdown-header">서론</h6>
            <a class="dropdown-item" href="../document/architect_001.html">서론</a>
            <div class="dropdown-divider"></div>
            <h6 class="dropdown-header">사례연구</h6>
            <a class="dropdown-item" href="../document/architect_002.html">사례연구</a>
            <div class="dropdown-divider"></div>
            <h6 class="dropdown-header">생성 패턴</h6>
            <a class="dropdown-item" href="../document/architect_003.html">추상 팩토리</a>
            <a class="dropdown-item" href="../document/architect_004.html">빌더</a>
            <a class="dropdown-item" href="../document/architect_005.html">팩토리 메서드</a>
            <a class="dropdown-item" href="../document/architect_006.html">원형</a>
            <a class="dropdown-item" href="../document/architect_007.html">단일체</a>
            <a class="dropdown-item" href="../document/architect_008.html">생성 패턴에 대한 논의</a>
            <div class="dropdown-divider"></div>
            <h6 class="dropdown-header">구조 패턴</h6>
            <a class="dropdown-item" href="../document/architect_009.html">적응자</a>
            <a class="dropdown-item" href="../document/architect_010.html">가교</a>
            <a class="dropdown-item" href="../document/architect_011.html">복합체</a>
            <a class="dropdown-item" href="../document/architect_012.html">장식자</a>
            <a class="dropdown-item" href="../document/architect_013.html">퍼사드</a>
            <a class="dropdown-item" href="../document/architect_014.html">플라이급</a>
            <a class="dropdown-item" href="../document/architect_015.html">프록시</a>
            <a class="dropdown-item" href="../document/architect_016.html">구조패턴에 대한 논의</a>
            <div class="dropdown-divider"></div>
            <h6 class="dropdown-header">행동 패턴</h6>
            <a class="dropdown-item" href="../document/architect_017.html">책임 연쇄</a>
            <a class="dropdown-item" href="../document/architect_018.html">명령</a>
            <a class="dropdown-item" href="../document/architect_019.html">해석자</a>
            <a class="dropdown-item" href="../document/architect_020.html">반복자</a>
            <a class="dropdown-item" href="../document/architect_021.html">중재자</a>
            <a class="dropdown-item" href="../document/architect_022.html">메멘토</a>
            <a class="dropdown-item" href="../document/architect_023.html">감시자</a>
            <a class="dropdown-item" href="../document/architect_024.html">상태</a>
            <a class="dropdown-item" href="../document/architect_025.html">전략</a>
            <a class="dropdown-item" href="../document/architect_026.html">템플릿 메서드</a>
            <a class="dropdown-item" href="../document/architect_027.html">방문자</a>
            <a class="dropdown-item" href="../document/architect_028.html">행동 패턴에 대한 논의</a>
            <div class="dropdown-divider"></div>
            <h6 class="dropdown-header">결론</h6>
            <a class="dropdown-item" href="../document/architect_029.html">디자인 패턴에서 무엇을<br> 기대할 수 있는가?</a>
            <a class="dropdown-item" href="../document/architect_030.html">간략한 역사</a>
            <a class="dropdown-item" href="../document/architect_031.html">패턴 커뮤니티</a>
            <a class="dropdown-item" href="../document/architect_032.html">초대의 글</a>
            <a class="dropdown-item" href="../document/architect_033.html">책을 마무리하며</a>
            <div class="dropdown-divider"></div>
            <h6 class="dropdown-header">System Archtecture</h6>
            <a class="dropdown-item" href="../document/architect_053.html">API with Zuul</a>
            <a class="dropdown-item" href="../document/architect_037.html">Cloud System</a>
            <a class="dropdown-item" href="../document/architect_047.html">Cassandra</a>
            <a class="dropdown-item" href="../document/architect_036.html">DevOps</a>
            <a class="dropdown-item" href="../document/architect_045.html">IAC</a>
            <a class="dropdown-item" href="../document/architect_043.html">Kuberneties</a>
            <a class="dropdown-item" href="../document/architect_034.html">MVC</a>
            <a class="dropdown-item" href="../document/architect_049.html">MSA</a>
            <a class="dropdown-item" href="../document/architect_044.html">MOM</a>
            <a class="dropdown-item" href="../document/architect_039.html">PAAS</a>
            <a class="dropdown-item" href="../document/architect_035.html">REST API</a>
            <a class="dropdown-item" href="../document/architect_046.html">SAAS</a>
            <a class="dropdown-item" href="../document/architect_040.html">SCA</a>
            <a class="dropdown-item" href="../document/architect_042.html">SOA</a>
            <a class="dropdown-item" href="../document/architect_041.html">TDD(DDD)</a>
            <a class="dropdown-item" href="../document/architect_048.html">Web Cache</a>
            <a class="dropdown-item" href="../document/architect_050.html">Various Pattern</a>
            <a class="dropdown-item" href="../document/architect_055.html">Hexagonal Architecture</a>
            <a class="dropdown-item" href="../document/architect_056.html">Visualizing Architecture</a>
          </div>
        </li>
      </ul>

      <div id="content-wrapper">
        <div class="container-fluid">
          <!-- Breadcrumbs-->
          <ol class="breadcrumb">
            <li class="breadcrumb-item">
              <a href="#">Dashboard</a>
            </li>
            <li class="breadcrumb-item active"> Builder Pattern</li>
          </ol>

          <!-- Area Chart Example-->
          <div class="card mb-3">
            <div class="card-header">
                Builder 
            </div>
            <div class="card-body">
              <div class="accordion" id="accordionExample">
                <div class="card">
                  <div class="card-header" id="headingOne">
                    <h2 class="mb-0">
                      <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        의도 
                      </button>
                    </h2>
                  </div>
                  <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                    <div class="card-body">
                        생성자의 인자가 많을 때는 Builder 패턴을 고려하라. 
                        빌더 패턴은 인자가 많은 생성자나 정적 팩터리가 필요한 클래스를 설계할 때, 특히 대부분의 인자가 선택적 인자인 상황에 유용하다. 
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="headingTwo">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        동기
                      </button>
                    </h2>
                  </div>
                  <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                    <div class="card-body">

                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="headingThree">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        활용성
                      </button>
                    </h2>
                  </div>
                  <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                    <div class="card-body">
                      <img src="../document/Builder_Pattern.png" class="img-fluid" alt="">
                      <hr>
                      <ul>
                        <li>
                          Builder : Product 객체의 일부 요소들을 생성하기 위한 추상 인터페이스를 정의합니다. 
                        </li>
                        <li>
                          ConcreteBuilder : 클래스에 정의된 인터페이스를 구현하며, 제품의 부품들을 모아 빌더를 복합합니다. 생성한 요소의 표현을 정의하고 관리합니다. 또한 제품을 검색하는데 필요한 
                          인터페이스를 제공합니다. 
                        </li>
                        <li>
                          Director : Builder 인터페이스를 사용하는 객체를 합성합니다. 
                        </li>
                        <li>
                          Product : 생성할 복합 객체를 표현합니다. ConcreteBuilder는 제품의 내부 표현을 구축하고 복합 객체가 어떻게 구성되는지에 관한 절차를 정의합니다. 
                        </li>
                      </ul> 
                      <hr>
                      <hr>
                      빌더 패턴의 이익과 부담
                      <ul>
                        <li>제품에 대한 내부 표현을 다양하게 표현할 수 있습니다.</li>
                        <li>생성과 표현에 필요한 코드를 분리합니다. 빌더 패턴을 사용하면 복합 객체를 생성하고 복합 객체의 내부 표현 방법을 별도의 모듈로 정의할 수 있습니다. </li>
                        <li>복합 객체를 생성하는 절차를 좀더 세밀하게 나눌 수 있습니다.</li>
                      </ul>
      
                      <hr>
                      이펙티브 자바의 빌더 패턴
                      <ul>
                        <li>GoF의 빌더 패턴보다 좀 더 코딩 위주의 활용법을 설명한다.</li>
                        <li>코드 읽기/유지보수가 편해지므로 빌더 패턴을 쓰라고 한다.</li>
                        <li>GoF가 책을 썼을 때에는 상대적으로 덜 중요했던 객체 일관성, 변경 불가능성 등의 특징을 설명한다.</li>
                        <hr>
                        <div class="alert alert-warning alert-dismissible fade show" role="alert">
                          1회의 함수 호출로 객체 생성을 끝낼 수 없으므로, 객체 일관성이 일시적으로 깨질 수 있다는 것, 
                          자바빈 패턴으로는 변경 불가능 클래스를 만들 수 없다는 것,
                          점층적 생성자 패턴의 안정성에 자바빈 패턴의 가동성을 결합한 세 번째 대안이 있다는 것,
                          필요한 객체를 직접 생성하는 대신, 클라이언트는 먼저 필수 인자들을 생성자에 전부 전달하여 빌더 객체를 만든다,
                          그런 다음 빌더 객체에 정의된 설정 메서드들을 호출하여 선택적 인자들을 추가해 나간다, 
                          그리고 아무런 인자 없이  build 메서드를 호출하여 변경 불가능 객체를 만드는 것이다.
                          <pre>
                            <code class="java" > 
package DesignPattern.gof_builder.sampe03;

public class NutrionFacts {

    private final int servingSize;
    private final int servings;
    private final int calories;

    public static class Builder {
        // 필수 인자
        private final int servingSize;
        private final int servings;
        private int calories;

        public  Builder(int servingSize, int servings){
            this.servingSize = servingSize;
            this.servings =servings;
        }

        public Builder calories(int calories){
            this.calories = calories;
            return this;
        }

        public NutrionFacts Build(){
            return new NutrionFacts(this);
        }
    }

    private NutrionFacts(Builder builder){
        this.servingSize = builder.servingSize;
        this.servings = builder.servings;
        this.calories = builder.calories;
    }
}
                            </code>
                          </pre>
                        </div>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="headingFour">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                        항목에 대한 설명
                      </button>
                    </h2>
                  </div>
                  <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample">
                    <div class="card-body">
                        
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="headingFive">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                        코드 예제
                      </button>
                    </h2>
                  </div>
                  <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordionExample">
                    <div class="card-body" >
                        GoF의 빌더 패턴
                        <ul>
                          <li>객체의 생성 알고리즘과 조립 방법을 분리하는 것이 목적이다.</li>
                        </ul>               
                        <hr>
                        스타크래프트의 Dropship을 활용한 예제 ( Effective Java 기준 )
                        <pre>
                          <code class="java" >
    package DesignPattern.gof_builder.sample01;
    
    public class DropShip {
    
    private  int dropshipCapacity = 8;
    
    private  int SeigeTankSize = 0;
    private  int MarineSize = 0;
    private  int MedicSize = 0;
    private  int FireBatSize = 0;
    private  int VultureSize = 0;
    private  int GhostSize = 0;
    private  int GoliathSize = 0;
    
    private  boolean SeigeTankOnBoard = false;
    private  boolean MarineOnBoard = false;
    private  boolean MedicOnBoard = false;
    private  boolean FireBatOnBoard = false;
    private  boolean VultureOnBoard = false;
    private  boolean GhostOnBoard = false;
    private  boolean GoliathOnBoard = false;
    
      public static class Builder {
    
          // 필수 값
          private final int dropshipCapacity;
    
          private int SeigeTankSize = 4;
          private boolean SeigeTankOnBoard = false;
          private int MarineSize = 1;
          private boolean MarineOnBoard = false;
          private int MedicSize = 1;
          private boolean MedicOnBoard = false;
          private int FireBatSize = 1;
          private boolean FireBatOnBoard = false;
          private int VultureSize = 2;
          private boolean VultureOnBoard = false;
          private int GhostSize = 1;
          private boolean GhostOnBoard = false;
          private int GoliathSize = 2;
          private boolean GoliathOnBoard = false;
    
          public Builder(int dropshipCapacity){
              this.dropshipCapacity = dropshipCapacity;
          }
    
          public Builder SeigeTank(int SeigeTankCount){
              SeigeTankSize = SeigeTankSize * SeigeTankCount;
              SeigeTankOnBoard = true;
              return this;
          }
    
          public Builder Marine(int MarineCount){
              MarineSize = MarineSize * MarineCount;
              MarineOnBoard = true;
              return this;
          }
    
          public Builder Medic(int MedicCount){
              MedicSize = MedicSize * MedicCount;
              MedicOnBoard = true;
              return this;
          }
    
          public Builder FireBat(int FireBatCount){
              FireBatSize = FireBatSize * FireBatCount;
              FireBatOnBoard = true;
              return this;
          }
    
          public Builder Vulture(int VultureCount){
              VultureSize = VultureSize * VultureCount;
              VultureOnBoard = true;
              return this;
          }
    
          public Builder Ghost(int GhostCount){
              GhostSize = GhostSize * GhostCount;
              GhostOnBoard = true;
              return this;
          }
    
          public Builder Goliath(int GoliathCount){
              GoliathSize = GoliathSize * GoliathCount;
              GoliathOnBoard = true;
              return this;
          }
    
          public DropShip onBoard(){
              return new DropShip(this);
          }
      }
    
      private DropShip(Builder builder){
          dropshipCapacity    = builder.dropshipCapacity;
          SeigeTankSize       = builder.SeigeTankSize;
          MarineSize          = builder.MarineSize;
          MedicSize           = builder.MedicSize;
          FireBatSize         = builder.FireBatSize;
          VultureSize         = builder.VultureSize;
          GhostSize           = builder.GhostSize;
          GoliathSize         = builder.GoliathSize;
    
          SeigeTankOnBoard       = builder.SeigeTankOnBoard;
          MarineOnBoard          = builder.MarineOnBoard;
          MedicOnBoard           = builder.MedicOnBoard;
          FireBatOnBoard         = builder.FireBatOnBoard;
          VultureOnBoard         = builder.VultureOnBoard;
          GhostOnBoard           = builder.GhostOnBoard;
          GoliathOnBoard         = builder.GoliathOnBoard;
      }
    
      public String checkOnBoardMember(){
          String onBoardList = "";
    
          if(SeigeTankOnBoard) onBoardList += " 시즈탱크 탑승 : " + SeigeTankSize + "\r\n";
          if(MarineOnBoard) onBoardList += " 마린 탑승 : " + MarineSize + "\r\n";
          if(MedicOnBoard) onBoardList += " 메딕 탑승 : " + MedicSize + "\r\n";
          if(FireBatOnBoard) onBoardList += " 파이어벳 탑승 : " + FireBatSize + "\r\n";
          if(VultureOnBoard) onBoardList += " 벌처 탑승 : " + VultureSize + "\r\n";
          if(GhostOnBoard) onBoardList += " 고스트 탑승 : " + GhostSize + "\r\n";
          if(GoliathOnBoard) onBoardList += " 골리앗 탑승 : " + GoliathSize + "\r\n";
    
          return onBoardList;
      }
    }                              
                        </code>
                      </pre>
                      <hr>
                      <pre>
                          <code class="java" >
    package DesignPattern.gof_builder.sample01;
    
    public class OnBoardMain {
        public static void main(String[] args) {
            DropShip.Builder onBoardOrder = new DropShip.Builder(8);
    
            onBoardOrder.FireBat(1);
            onBoardOrder.Ghost(1);
            onBoardOrder.SeigeTank(1);
            onBoardOrder.Goliath(1);
    
            DropShip dropShip = onBoardOrder.onBoard();
    
            System.out.printf(dropShip.checkOnBoardMember());
        }
    }                                           
                          </code>
                      </pre>  
                      <hr>
                      Lombok을 이용한 Builder 패턴 구현
                      <hr>
                      <pre>
                        <code class="java" >
      package DesignPattern.gof_builder.sample02;
      
      
      import lombok.Builder;
      import lombok.Getter;
      import lombok.ToString;
      
      @Getter
      @ToString
      public class DropShip {
          private int dropshipCapacity;
          private int SeigeTankSize;
          private int MarineSize;
          private int MedicSize;
          private int FireBatSize;
          private int VultureSize;
          private int GhostSize;
          private int GoliathSize;
      
          @Builder
          public DropShip(int dropshipCapacity, int SeigeTankSize, int MarineSize, int MedicSize, int FireBatSize, int VultureSize, int GhostSize, int GoliathSize){
              dropshipCapacity    = dropshipCapacity;
              SeigeTankSize       = SeigeTankSize;
              MarineSize          = MarineSize;
              MedicSize           = MedicSize;
              FireBatSize         = FireBatSize;
              VultureSize         = VultureSize;
              GhostSize           = GhostSize;
              GoliathSize         = GoliathSize;
          }
      }                      
                        </code>
                      </pre>  
                    </div>
                  </div>
                </div>
            </div>
          </div>
        </div>
        <!-- /.container-fluid -->

        <!-- Sticky Footer -->
        <footer class="sticky-footer">
          <div class="container my-auto">
            <div class="copyright text-center my-auto">
              <span></span>
            </div>
          </div>
        </footer>

      </div>
      <!-- /.content-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
 
  <script language="JavaScript">

    var timerID;      // 타이머를 핸들링하기 위한 전역 변수
    var time = 719;   // 타이머 시작시의 시간

    document.getElementById("btnStart").addEventListener("click", function(){
      start_timer();
    });

    /* 타이머를 시작하는 함수 */
    function start_timer() { 
      timerID = setInterval("decrementTime()", 1000);

    }

    /* 남은 시간을 감소시키는 함수 */

    function decrementTime() { 

      var x1 = document.getElementById("time1");

      x1.innerHTML = toHourMinSec(time);

      if(time > 0){
        time--;
      } else { 

        // 시간이 0이 되었으므로 타이머를 중지함
        clearInterval(timerID);
        x1.innerHTML = "종료!!"
      }
    }

    /* 정수형 숫자(초 단위)를 "시:분:초" 형태로 표현하는 함수 */
    function toHourMinSec(t) { 
      var hour;
      var min;
      var sec;

      // 정수로부터 남은 시, 분, 초 단위 계산
      hour = Math.floor(t / 3600);
      min = Math.floor( (t-(hour*3600)) / 60 );
      sec = t - (hour*3600) - (min*60);

      // hh:mm:ss 형태를 유지하기 위해 한자리 수일 때 0 추가
      if(hour < 10) hour = "0" + hour;
      if(min < 10) min = "0" + min;
      if(sec < 10) sec = "0" + sec;

      return(hour + ":" + min + ":" + sec);

    }

  </script>

    <!-- Bootstrap core JavaScript-->
    <script src="../vendor/jquery/jquery.min.js"></script>
    <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="../vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Page level plugin JavaScript-->
    <script src="../vendor/chart.js/Chart.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="../js/sb-admin.min.js"></script>

    <!-- Demo scripts for this page-->
    <script src="../js/demo/chart-area-demo.js"></script>
    <script src="../js/demo/chart-bar-demo.js"></script>
    <script src="../js/demo/chart-pie-demo.js"></script>

  </body>

</html>
