<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SB Admin - Docker</title>

    <!-- Bootstrap core CSS-->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template-->
    <link href="../vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

    <!-- Page level plugin CSS-->
    <link href="../vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="../css/sb-admin.css" rel="stylesheet">
    <link rel="stylesheet" href="../styles/default.css">
    <script src="../highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>

  <body id="page-top">

    <nav class="navbar navbar-expand navbar-dark bg-dark static-top">

      <a class="navbar-brand mr-1" href="index.html">Start Bootstrap</a>

      <button class="btn btn-link btn-sm text-white order-1 order-sm-0" id="sidebarToggle" href="#">
        <i class="fas fa-bars"></i>
      </button>

      <!-- Navbar Search -->
      <form class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
          <div class="input-group-append">
            <button class="btn btn-primary" type="button">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
      </form>

      <!-- Navbar -->
      <ul class="navbar-nav ml-auto ml-md-0">
        <li class="nav-item dropdown no-arrow mx-1">
          <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-bell fa-fw"></i>
            <span class="badge badge-danger">9+</span>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="alertsDropdown">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">Something else here</a>
          </div>
        </li>
        <li class="nav-item dropdown no-arrow mx-1">
          <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-envelope fa-fw"></i>
            <span class="badge badge-danger">7</span>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="messagesDropdown">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">Something else here</a>
          </div>
        </li>
        <li class="nav-item dropdown no-arrow">
          <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-user-circle fa-fw"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
            <a class="dropdown-item" href="#">Settings</a>
            <a class="dropdown-item" href="#">Activity Log</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">Logout</a>
          </div>
        </li>
      </ul>

    </nav>

    <div id="wrapper">

      <!-- Sidebar -->
      <ul class="sidebar navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="index.html">
            <i class="fas fa-fw fa-tachometer-alt"></i>
            <span>요약</span>
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-fw fa-folder"></i>
            <span>목록</span>
          </a>
          <div class="dropdown-menu show" aria-labelledby="pagesDropdown">
            <h6 class="dropdown-header">Docker</h6>
            <a class="dropdown-item" href="../docker/docker_001.html">Docker Basics</a>
            <a class="dropdown-item" href="../docker/docker_002.html">Docker File</a>
            <a class="dropdown-item" href="../docker/docker_003.html">Docker Do It!</a>
            <a class="dropdown-item" href="../docker/docker_004.html">Linux For Docker</a>
            <a class="dropdown-item" href="../docker/docker_005.html"></a>
            <a class="dropdown-item" href="../docker/docker_006.html"></a>
            <a class="dropdown-item" href="../docker/docker_007.html"></a>
            <a class="dropdown-item" href="../docker/docker_008.html"></a>          
            <a class="dropdown-item" href="../docker/docker_009.html"></a>
            <a class="dropdown-item" href="../docker/docker_010.html"></a>
            <a class="dropdown-item" href="../docker/docker_011.html"></a>
            <a class="dropdown-item" href="../docker/docker_012.html"></a>
            <a class="dropdown-item" href="../docker/docker_013.html"></a>
            <a class="dropdown-item" href="../docker/docker_014.html"></a>
            <a class="dropdown-item" href="../docker/docker_015.html"></a>
            <a class="dropdown-item" href="../docker/docker_016.html"></a>
            <a class="dropdown-item" href="../docker/docker_017.html"></a>
            <a class="dropdown-item" href="../docker/docker_018.html"></a>
            <a class="dropdown-item" href="../docker/docker_019.html"></a>
            <a class="dropdown-item" href="../docker/docker_020.html"></a>
            <a class="dropdown-item" href="../docker/docker_021.html"></a>
            <a class="dropdown-item" href="../docker/docker_022.html"></a>
            <a class="dropdown-item" href="../docker/docker_023.html"></a>
            <a class="dropdown-item" href="../docker/docker_024.html"></a>
            <a class="dropdown-item" href="../docker/docker_025.html"></a>
            <a class="dropdown-item" href="../docker/docker_026.html"></a>
            <a class="dropdown-item" href="../docker/docker_027.html"></a>
            <a class="dropdown-item" href="../docker/docker_028.html"></a>
            <a class="dropdown-item" href="../docker/docker_029.html"></a>
            <a class="dropdown-item" href="../docker/docker_030.html"></a>
            <a class="dropdown-item" href="../docker/docker_031.html"></a>
            <a class="dropdown-item" href="../docker/docker_032.html"></a>
            <a class="dropdown-item" href="../docker/docker_033.html"></a>
          </div>
        </li>
      </ul>

      <div id="content-wrapper">
        <div class="container-fluid">
          <!-- Breadcrumbs-->
          <ol class="breadcrumb">
            <li class="breadcrumb-item">
              <a href="#">Dashboard</a>
            </li>
            <li class="breadcrumb-item active">Docker Basics</li>
          </ol>

          <!-- Area Chart Example-->
          <div class="card mb-3">
            <div class="card-header">
                Docker Basics
            </div>
            <div class="card-body">
                <div class="accordion" id="accordionExample">
                  <div class="card">
                    <div class="card-header" id="headingOne">
                      <h2 class="mb-0">
                        <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            Docker 버전 체크 
                        </button>
                      </h2>
                    </div>
                    <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                      <div class="card-body">
                          <img src="../docker/docker_001.png" class="card-img" alt="" >
                      <hr>
                      Docker의 명령은 docker {명령} 형식이며, Root 권한으로 이용해야 한다. 
                      <pre>
                        <code class="shell" >
$ docker --version
                        </code>
                      </pre>
                      <hr>  
                        Docker는 Docker Hub를 통해 이미지를 공유하는 생태계가 구축되어 았다. <br>
                        리눅스 배포 판 부터 오픈 소스 기반의 환경이 구축되어 있는 Image를 제공하고 있다. <br>
                        docker search를 이용한 검색
                      </div>
                    </div>
                  </div>
                  <div class="card">
                    <div class="card-header" id="headingTwo">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            Pull 명령으로 이미지 받기
                        </button>
                      </h2>
                    </div>
                    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                      <div class="card-body">
                          <pre>
                              <code class="shell" >
$ docker search nodejs
$ docker pull ubuntu:latest
                              </code>
                            </pre>
                            <img src="../docker/docker_002.png" class="card-img" alt="">
                            <hr>
                             pull 명령으로 이미지 받기 <br>
                             docker pull {이미지 이름}:{태그}
                            <hr> 
                      </div>
                    </div>
                  </div>
                  <div class="card">
                    <div class="card-header" id="headingThree">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            Images 명령으로 이미지 목록 출력하기  
                        </button>
                      </h2>
                    </div>
                    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                      <div class="card-body">
                        <pre>
                          <code class="shell" >
 $ docker images / docker image ls
                          </code>
                        </pre>
                        <img src="../docker/docker_003.png" class="card-img" alt="">
                        <hr>
                        <img src="../docker/docker_004.png" class="card-img" alt="">
                        <hr>
                          images 명령으로 이미지 목록 출력하기 
                      </div>
                    </div>
                  </div>              
                  <div class="card">
                    <div class="card-header" id="headingFour">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseTwo">
                            run 명령어로 컨테이너 생성하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample">
                      <div class="card-body">
                          <pre>
                              <code class="shell" >
$ docker run -i -t --name hello ubuntu bin/bash
                              </code>
                            </pre>
                            <img src="../docker/docker_005.png" class="card-img" alt="">
                            <hr>
                              <br>
                             이미지를 컨테이너로 생성한 후에 Bash 셀로 ubuntu에 접근한다. 
                            <hr>               
                            <div class="alert alert-primary" role="alert">
                                docker run {옵션} {이미지 이름} {실행할 파일} <br>
                                -i(interactive)  -t(Pseudo-try) : Bash 셀에 대한 입력 및 출력을 할 수 있다. <br>
                                --name : 컨테이너의 이름을 지정한다.  <br>
                                여기에서 docker run을 통해 접속할 때 bin/bash를 바로 실행하여 들어갔기 때문에 exit 를 통해서 빠져나오면 컨테이너가 정지됩니다. 
                            </div>         
                      </div>
                    </div>
                  </div>  
                  <div class="card">
                    <div class="card-header" id="heading5">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse5" aria-expanded="false" aria-controls="collapse5">
                            PS 명령으로 컨테이너 목록 확인하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse5" class="collapse" aria-labelledby="heading5" data-parent="#accordionExample">
                      <div class="card-body">
                          <hr>
                          ps 명령으로 컨테이너 목록 확인하기<br>
                          docker ps 형식으로 -a 옵션을 사용하면 정지된 컨테이너까지 모두 출력하고, 옵션을 사용하지 않으면 실행되고 있는 컨테이너만 출력합니다
                          <hr>
                          <pre>
                            <code class="shell" >
$ docker ps -a / docker container ls 
                            </code>
                          </pre>
                          <img src="../docker/docker_006.png" width="800" alt="">  
                      </div>
                    </div>
                  </div>  
                  <div class="card">
                    <div class="card-header" id="heading7">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse7" aria-expanded="false" aria-controls="collapse7">
                            start 명령으로 컨테이너 시작하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse7" class="collapse" aria-labelledby="heading7" data-parent="#accordionExample">
                      <div class="card-body">
                      <hr>
                        start 명령으로 컨테이너 시작하기 <br>
                        docker start를 통해 container를 기동 시키고, docker ps 로 해당 실행된 컨테이너 상태를 확인한다. 
                      <hr>
                          <pre>
                            <code class="shell" >
$ docker start hello                
                            </code>
                          </pre>                        
                      </div>
                    </div>
                  </div> 
                  <div class="card">
                    <div class="card-header" id="heading8">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse8" aria-expanded="false" aria-controls="collapse8">
                            restart 명령으로 컨테이너 시작하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse8" class="collapse" aria-labelledby="heading8" data-parent="#accordionExample">
                      <div class="card-body">
                          <hr>
                          restart 명령으로 컨테이너 시작하기 <br>
                          docker restart를 통해 container를 기동 시키고, docker ps 로 해당 실행된 컨테이너 상태를 확인한다. 
                          <hr>
                          <pre>
                            <code class="shell" >
$ docker restart hello                
                            </code>
                          </pre>
                      </div>
                    </div>
                  </div> 
                  <div class="card">
                    <div class="card-header" id="heading9">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse9" aria-expanded="false" aria-controls="collapse9">
                            attach 명령으로 컨테이너 시작하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse9" class="collapse" aria-labelledby="heading9" data-parent="#accordionExample">
                      <div class="card-body">
                          <hr>
                          attach 명령으로 컨테이너 시작하기 <br>
                          bin/bash를 통해 실행되기 때문에 명령을 자유롭게 입력할 수 있지만, DB나 서버 애플리케이션을 실행하면 입력은 할 수 없고, 출력만 보게된다.  <br>
                          exit 또는 ctrl + D 를 통해 종료 가능 
                          <hr>
                          <pre>
                            <code class="shell" >
$ docker attach hello                
                            </code>
                          </pre>
                      </div>
                    </div>
                  </div> 
                  <div class="card">
                    <div class="card-header" id="heading10">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse10" aria-expanded="false" aria-controls="collapse10">
                            Excel 명령으로 외부에서 컨테이너 안의 명령 실행하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse10" class="collapse" aria-labelledby="heading10" data-parent="#accordionExample">
                      <div class="card-body">
                        <hr>
                          Excel 명령으로 외부에서 컨테이너 안의 명령 실행하기 <br>
                          docker exec {컨테이너 이름} {명령} {매개 변수} <br>
                          컨테이너가 실행되고 있는 상태에서만 사용할 수 있으며 정지된 상태에서는 사용할 수 없습니다.  
                          <hr>
                          <pre>
                            <code class="shell" >
$ docker exec hello echo "Hello World"              
                            </code>
                          </pre>                        
                      </div>
                    </div>
                  </div> 
                  <div class="card">
                    <div class="card-header" id="heading11">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse11" aria-expanded="false" aria-controls="collapse11">
                            Stop 명령으로 컨테이너 정지하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse11" class="collapse" aria-labelledby="heading11" data-parent="#accordionExample">                        
                      <div class="card-body">
                        <hr>
                        Stop 명령으로 컨테이너 정지하기 <br>
                        docker stop {컨테이너 이름}  
                        <hr>
                        <pre>
                          <code class="shell" >
$ docker stop hello            
                          </code>
                        </pre>                          
                      </div>
                    </div>
                  </div> 
                  <div class="card">
                    <div class="card-header" id="heading12">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse12" aria-expanded="false" aria-controls="collapse12">
                            rm 명령으로 컨테이너 삭제하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse12" class="collapse" aria-labelledby="heading12" data-parent="#accordionExample">
                      <div class="card-body">
                          <hr>
                          Rm 명령으로 컨테이너 삭제하기 <br>
                          docker stop {컨테이너 이름}  
                          <hr>
                          <pre>
                            <code class="shell" >
$ docker rm hello        
                            </code>
                          </pre>                        
                      </div>
                    </div>
                  </div> 
                  <div class="card">
                    <div class="card-header" id="heading13">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse13" aria-expanded="false" aria-controls="collapse13">
                            rmi 명령으로 이미지 삭제하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse13" class="collapse" aria-labelledby="heading13" data-parent="#accordionExample">
                      <div class="card-body">
                          <hr>
                          rmi 명령으로 이미지 삭제하기 <br>
                          docker stop {이미지 이름}:{태그}  
                          <hr>
                          <pre>
                            <code class="shell" >
$ docker rm hello        
                            </code>
                          </pre>                        
                      </div>
                    </div>
                  </div> 

                  <div class="card">
                      <div class="card-header" id="heading14">
                        <h2 class="mb-0">
                          <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse14" aria-expanded="false" aria-controls="collapse14">
                              Dockerfile 작성하기 / Build 명령으로 이미지 생성하기 
                          </button>
                        </h2>
                      </div>
                      <div id="collapse14" class="collapse" aria-labelledby="heading14" data-parent="#accordionExample">
                        <div class="card-body">
                            <hr>
                            rmi 명령으로 이미지 삭제하기 <br>
                            docker stop {이미지 이름}:{태그}  
                            <hr>
        <pre>
          <code class="shell" >
              <pre>
                  <code class="shell" >
$ mkdir dockerFile

# 아래와 같은 Docker file을 생성  
# Use an official Python runtime as a parent image
FROM python:2.7-slim

# Set the working directory to /app
WORKDIR /app

# Copy the current directory contents into the container at /app
COPY . /app

# Install any needed packages specified in requirements.txt
RUN pip install --trusted-host pypi.python.org -r requirements.txt

# Make port 80 available to the world outside this container
EXPOSE 80

# Define environment variable
ENV NAME World

# Run app.py when the container launches
CMD ["python", "app.py"]
                  </pre>
                </code>
                <pre>
                  <code class="shell" >
# requirements.txt
Flask
Redis
                  </code>
                </pre>
                <pre>
                  <code class="shell" >
# app.py 
rom flask import Flask
from redis import Redis, RedisError
import os
import socket

# Connect to Redis
redis = Redis(host="redis", db=0, socket_connect_timeout=2, socket_timeout=2)

app = Flask(__name__)

@app.route("/")
def hello():
    try:
        visits = redis.incr("counter")
    except RedisError:
        visits = "&lt;i>cannot connect to Redis, counter disabled&lt;/i>"

    html = "&lt;h3>Hello {name}!&lt;/h3>" \
            "&lt;b>Hostname:&lt;/b> {hostname}&lt;br/>" \
            "&lt;b>Visits:&lt;/b> {visits}"
    return html.format(name=os.getenv("NAME", "world"), hostname=socket.gethostname(), visits=visits)

if __name__ == "__main__":
    app.run(host='0.0.0.0', port=80)
                  </code>
                </pre>



                <pre>
                  <code class="shell">

# Dockerfile이 저장된 디렉터레에서 다음의 명령을 실행합니다. 
# docker build &lt;옵션> &lt;Dockerfile 경로> 형식 
$ docker build --tag hello-python:0.1 .

                  </code>
                </pre>   
          </code>
        </pre>                        
                        </div>
                      </div>
                    </div> 
                  <div class="card">
                    <div class="card-header" id="heading16">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse16" aria-expanded="false" aria-controls="collapse16">
                            hello-python:0.1 이라는 이미지가 생성되었고 이를 실행 시켜 본다. 
                        </button>
                      </h2>
                    </div>
                    <div id="collapse16" class="collapse" aria-labelledby="heading16" data-parent="#accordionExample">
                      <div class="card-body">
                          hello-python:0.1 이라는 이미지가 생성되었고 이를 실행 시켜 본다. 
                          <hr>
                          <img src="../docker/docker_images.png" width="700" alt="">
                          <hr>
                          <pre>
                              <code class="Shell" >
$ docker run --name hello-flask -d -p 4000:80 hello-python:0.1                                    
                            </code>
                          </pre> 
                          <hr>
                          기동을 하였을 때, 아래와 같은 이미지가 표시된다. 
                          <ul>
                            <li>-d	detached mode 흔히 말하는 백그라운드 모드</li>
                            <li>-p	호스트와 컨테이너의 포트를 연결 (포워딩)</li>
                            <li>-v	호스트와 컨테이너의 디렉토리를 연결 (마운트)</li>
                            <li>-e	컨테이너 내에서 사용할 환경변수 설정</li>
                            <li>–name	컨테이너 이름 설정</li>
                            <li>–rm	프로세스 종료시 컨테이너 자동 제거</li>
                            <li>-it	-i와 -t를 동시에 사용한 것으로 터미널 입력을 위한 옵션</li>
                            <li>–link	컨테이너 연결 [컨테이너명:별칭]</li>
                          </ul>
                          <hr>
                          <img src="../docker/dockerfile_run.png" width="700" alt="">                    
                      </div>
                    </div>
                  </div> 
                  <div class="card">
                    <div class="card-header" id="heading17">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse17" aria-expanded="false" aria-controls="collapse17">
                            History 명령으로 이미지의 히스토리를 살펴보기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse17" class="collapse" aria-labelledby="heading17" data-parent="#accordionExample">
                      <div class="card-body">
                          <hr>
                          History 명령으로 이미지의 히스토리를 살펴보기 <br>
                          docker hsitory &lt;이미지 이름>:&lt;태그>
                          <pre>
                            <code class="shell" >
$ docker history hello:0.1
                            </code>
                          </pre>                       
                      </div>
                    </div>
                  </div> 
                  <div class="card">
                    <div class="card-header" id="heading18">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse18" aria-expanded="false" aria-controls="collapse18">
                            내가 생성한 이미지의 컨테이너로 부터 파일을 꺼내고 싶을 때
                        </button>
                      </h2>
                    </div>
                    <div id="collapse18" class="collapse" aria-labelledby="heading18" data-parent="#accordionExample">
                      <div class="card-body">
                          <hr>
                          내가 생성한 이미지의 컨테이너로 부터 파일을 꺼내고 싶을 때 <br>
                          docker cp &lt;컨테이너이름>:&lt;경로> &lt;호스트경로>
                          <pre>
                            <code class="shell" >
$ docker cp hello-nginx:/etc/nginx/nginx.conf ./
                            </code>
                          </pre>
                          실제로 아래와 같이 Docker에서 파일을 가져와 볼 수 있다 <br>
                          <img src="../docker/docker_007.png" width="800" alt="">                       
                      </div>
                    </div>
                  </div> 
                  <div class="card">
                    <div class="card-header" id="heading19">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse19" aria-expanded="false" aria-controls="collapse19">
                            Commit 명령으로 컨테이너의 변경사항을 이미지로 생성하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse19" class="collapse" aria-labelledby="heading19" data-parent="#accordionExample">
                      <div class="card-body">
                          <hr>
                          Commit 명령으로 컨테이너의 변경사항을 이미지로 생성하기 <br>
                          docker commit &lt;옵션> &lt;컨테이너 이름> &lt;이미지 이름>:&lt;태그> <br>
                          -a "Foo Bar &lt;foo@bar.com>" <br>
                          -m "add hello.txt" 
          
                          <pre>
                              <code class="shell" >
$ docker commit -a "Foo Bar &lt;foo@bar.com>" -m "add hello.txt" hello-nginx hello:0.2
                              </code>
                          </pre>
                          <img src="../docker/docker_008.png" width="900" alt="">                     
                      </div>
                    </div>
                  </div> 
                  <div class="card">
                    <div class="card-header" id="heading20">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse20" aria-expanded="false" aria-controls="collapse20">
                            diff 명령으로 컨테이너에서 변경된 파일 확인하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse20" class="collapse" aria-labelledby="heading20" data-parent="#accordionExample">
                      <div class="card-body">
                          <hr>
                diff 명령으로 컨테이너에서 변경된 파일 확인하기 <br>
                docker diff &lt;컨테이너 이름> <br>
                A : 추가한 파일 <br>
                B : 변경된 파일 <br>
                C : 삭제된 파일 <br>
                <pre>
                  <code class="shell" >
$ docker diff hello
                  </code>
                </pre>
                <img src="../docker/docker_009.png" width="500" alt="">                       
                      </div>
                    </div>
                  </div> 
                <div class="card">
                  <div class="card-header" id="heading21">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse21" aria-expanded="false" aria-controls="collapse21">
                          inspect 명령으로 세부 정보 확인하기  
                      </button>
                    </h2>
                  </div>
                  <div id="collapse21" class="collapse" aria-labelledby="heading21" data-parent="#accordionExample">
                    <div class="card-body">
                        <hr>
                        inspect 명령으로 세부 정보 확인하기 <br>
                        docker inspect &lt;이미지 또는 컨테이너 이름>
                        <pre>
                            <code class="shell" >
$ docker inspect hello
                            </code>
                        </pre>    
                        <img src="../docker/docker_010.png" width="700" alt="">                         
                    </div>
                  </div>
                </div> 
                <div class="card">
                  <div class="card-header" id="heading22">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse22" aria-expanded="false" aria-controls="collapse22">
                          
                      </button>
                    </h2>
                  </div>
                  <div id="collapse22" class="collapse" aria-labelledby="heading22" data-parent="#accordionExample">
                    <div class="card-body">
                        
                        <pre>
                          <code class="shell" >    
                          </code>
                        </pre>                        
                    </div>
                  </div>
                </div> 
                <div class="card">
                  <div class="card-header" id="heading23">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse23" aria-expanded="false" aria-controls="collapse23">
                          
                      </button>
                    </h2>
                  </div>
                  <div id="collapse23" class="collapse" aria-labelledby="heading23" data-parent="#accordionExample">
                    <div class="card-body">
                        
                        <pre>
                          <code class="shell" >    
                          </code>
                        </pre>                        
                    </div>
                  </div>
                </div> 
                <div class="card">
                  <div class="card-header" id="heading24">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse24" aria-expanded="false" aria-controls="collapse24">
                          
                      </button>
                    </h2>
                  </div>
                  <div id="collapse24" class="collapse" aria-labelledby="heading24" data-parent="#accordionExample">
                    <div class="card-body">
                        
                        <pre>
                          <code class="shell" >    
                          </code>
                        </pre>                        
                    </div>
                  </div>
                </div> 
                <div class="card">
                  <div class="card-header" id="heading25">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse25" aria-expanded="false" aria-controls="collapse25">
                          
                      </button>
                    </h2>
                  </div>
                  <div id="collapse25" class="collapse" aria-labelledby="heading25" data-parent="#accordionExample">
                    <div class="card-body">
                        
                        <pre>
                          <code class="shell" >    
                          </code>
                        </pre>                        
                    </div>
                  </div>
                </div> 
                <div class="card">
                  <div class="card-header" id="heading26">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse26" aria-expanded="false" aria-controls="collapse26">
                          
                      </button>
                    </h2>
                  </div>
                  <div id="collapse26" class="collapse" aria-labelledby="heading26" data-parent="#accordionExample">
                    <div class="card-body">
                        
                        <pre>
                          <code class="shell" >    
                          </code>
                        </pre>                        
                    </div>
                  </div>
                </div> 
              </div>             
            </div>
            <div class="card-footer small text-muted"></div>
          </div>   
          <div class="card mb-3">
              <div class="card-header">
                  Docker 컨테이너 연결하기 
              </div>
              <div class="card-body">
                <div class="accordion" id="accordionExample">
                  <div class="card">
                    <div class="card-header" id="heading1">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse1" aria-expanded="false" aria-controls="collapse1">
                            Docker 컨테이너 연결하기
                        </button>
                      </h2>
                    </div>
                    <div id="collapse1" class="collapse" aria-labelledby="heading1" data-parent="#accordionExample">
                      <div class="card-body">
                        <strong>Docker 컨테이너 연결하기</strong>
                        <hr>
                        Docker로 이미지를 생성할 때 웹 서버, DB 등 필요한 프로그램을 모두 설치할 수도 있지만 보톤 프로그램 별로 이미지를 생성합니다. <br>
                        프로그램별로 이미지를 생성하고, 컨테이너를 생성했을 때 옆에 있는 컨테이너에 접속할 일이 많습니다. 
                        <pre>
                          <code class="shell" >
# DB Conatiner의 이름은 db로 설정하였음 
$ docker run --name db -d mongo

# docker run 명령에서 연결 옵션은 --link &lt;컨테이너 이름>:&lt;별칭>
$ docker run --name web -d -p 80:80 --link db:db hello-nginx

                          </code>
                        </pre>
                        이제 mongo db에 접속해볼 수 있습니다.
                        <pre>
                          <code class="shell" >
mongodb://db:27017/exampledb
                          </code>
                        </pre>
                        컨테이너 안에서 다른 컨테이너에 접속할 때는 &lt;별칭>:&lt;포트 번호> 형식으로 사용합니다.     <br>
                       <pre>
                         <code class="shell" >
# 별칭에 대하여 

# docker inspect 명령으로 web 컨테이너의 세부 정보에서 hosts 파일 경로를 구한 뒤 cat 명령으로 내용을 살펴봅니다. 

$ cat 'sudo docker inspect -f "{{ .HosePath }}" web'

# db는 --link db:db 에서 설정한 별칭이고, db의 실제 IP는 db container 의 IP 주소로 확인할 수 있다. 
                         </code>
                       </pre>
                                 
                       <hr>
                       <strong>다른 서버의 Docker 컨테이너에 연결하기</strong>
                       <hr>
                       Ambassador Container라는 것을 이용하여 다른 서버에 있는 컨테이너에 연결해보겠다. <br>
                       앰배서더 컨테이너는 특별한 컨테이너가 아닌 일반적인 Docker 컨테이너 입니다. <br>
                       앰배서더 컨테이너는 socat이라는 프로그램을 이용하여 TCP 연결을 다른 곳으로 전달하도록 구성되어 있음 
                       <pre>
                         <code class="shell" > 

$ CMD env | grep _TCP= | \ 
      sed 's/.*_PORT_\([0-9]*\)_TCP=tcp:\/\//(.*\):\(.*\)/socat \
      TCP4-LISTEN:\1,fork,reuseaddr TCP4:\2:\3 \&/'  \
      | sh && top                          

                         </code>
                       </pre>
                       docker run 명령에서 --link 옵션을 사용하거나 -e EXAMPLE_PORT_1234_TCP=tcp://192.168.0.10:1234 라고 설정해주면 환경 변수에 포트 정보가 설정됩니다. <br>
                       env 명령으로 환경 변수로 출력하고, grep 명령으로 _TCP=를 포함하는 문자열을 찾습니다. 그리고 sed 명령으로 정규표현식을 사용하여 문자열에서 포트 번호와 IP 주소를 추출합니다. <br>
                       그뒤 추출한 포트 번호와 IP 주소를 이양하여 socat 명령을 실행합니다. 
                       <pre>
                         <code class="shell" >
$ sudo docker pull redis:latest 
$ sudo docker run -d --name redis redis:lastest 

$ sudo docker run -d --link redis:redis --name redis_ambassador \ -p 6379:6379 svendowideit/ambassador

# -d : 백그라운드로 실행 
# --link redis:redis : redis 컨테이너를 redis 별칭으로 연결합니다. 
# --name redis_ambassador 옵션으로 컨테이너 이름을 redis_ambassador 저장합니다.
# -p 6379:6379 컨테이너의 6379번 호트와 호스트의 6379 연결하고 외부에 노출한다. 
# Docker Hub에 있는 svendowideit/ambassador로 컨테이너를 생성합니다.

$ docker run -d --name redis_ambassador --expose 6379 \ -e REDIS_PORT_6379_TCP=tcp://192.168.0.10:6379 svendowideit/ambassador

# -e REDIS_PORT_6379_TCP 옵션으로 IP주소와 포트를 설정하여 다은 서버에 있는 redis_ambassador 컨테이터와 연결합니다. 

$ sudo docker run -i -t --rm --link redis_ambassador:redis relateiq/redis-cli
                         </code>
                       </pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer small text-muted"></div>
              </div> 

              <div class="card mb-3">
                  <div class="card-header">
                      Docker 데이터 볼륨 사용하기
                  </div>
                  <div class="card-body">
                    <div class="accordion" id="accordionExample">
                      <div class="card">
                        <div class="card-header" id="heading2">
                          <h2 class="mb-0">
                            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
                                Docker 데이터 볼륨 사용하기
                            </button>
                          </h2>
                        </div>
                        <div id="collapse2" class="collapse" aria-labelledby="heading2" data-parent="#accordionExample">
                          <div class="card-body">
                             <strong>Docker 데이터 볼륨 생성하기</strong>
                          <hr>
                            Docker 데이터 볼륨은 데이터를 컨테이너가 아닌 호스트에 저장하는 방식이다. <br>
                            Docker 컨테이너 안의 파일 변경 사항은 Union File System에 의해 관리됩니다. 하지만 데이터 볼륨은 Union File Sytem을 통하지 않고 바로 호스트에 저장됩니다. <br>
                            따라서 docker commit 명령을 통해 이미지로 생성해도 데이터 볼륨의 변경사항은 이미지에 포함되지 않습니다. 
                            <pre>
                              <code class="shell" >
$ docker run -i -t --name hello-volume -v /data ubuntu bin/bash 

$ docker inspect -f "{{ .Volumes }}" hello-volume
                              </code>
                            </pre>
                          <hr>
                            <strong>컨테이너 사이의 데이터 볼륨 공유하기 </strong>
                          <hr>
                          <pre>
                            <code class="shell" >
$ docker run -i -t --name hello-volume1 -v /root/data:/data ubuntu /bin/bash
$ cd /data
$ touch world
$ exit

$ ls /root/data

000000000
$ docker run -i -t --name hello-volume2 -v /root/data:/data ubuntu /bin/bash

$ docker run -i -t --name hello-volume -v /root/hello.txt:/root/hello/txt ubuntu /bin/bash 
                            </code>
                          </pre>
                          <hr>
                          <strong>Docker 데이터 볼륨 컨테이너 사용하기</strong>
                          <hr>
                          <pre>
                            <code class="shell" > 
$ docker run -i -t --name hello-volume -v /root/hello.txt:/root/hello/txt ubuntu /bin/bash 

# 일반 컨테이너를 생성하면서 방금 생성한 hello-volume 데이터 볼륨 컨테이너를 연결합니다. 
# 데이터 볼륨 컨테이너를 연결하는 옵션은 --volumes-from &lt;데이터 볼륨 컨테이너>
$ docker run -i -t --volumes-from hello-volume --name hello  ubuntu /bin/bash 

# /data 디렉터리를 호스트의 특정 디렉토리에 연결하지 않아도 데이터 볼륨 컨테이너로 사용할 수 있다.
$ docker run -i -t --hame hello-volume --name hello  ubuntu /bin/bash 
                            </code>
                          </pre>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="card-footer small text-muted"></div>
                  </div> 

              <div class="card mb-3">
                <div class="card-header">
                    Sudo 없이 사용하기 
                </div>
              <div class="card-body">
                <div class="accordion" id="accordionExample">
                  <div class="card">
                    <div class="card-header" id="heading3">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
                            Sudo 없이 사용하기                          
                        </button>
                      </h2>
                    </div>
                    <div id="collapse3" class="collapse" aria-labelledby="heading3" data-parent="#accordionExample">
                      <div class="card-body">
<pre>
  <code class="shell" >
      sudo usermod -aG docker $USER # 현재 접속중인 사용자에게 권한주기
      sudo usermod -aG docker your-user # your-user 사용자에게 권한주기
  </code>
</pre>        
<hr>
도커를 실행하기 위한 kernel 버전은 3.10.x 이상입니다. 
ubuntu 14.04 이상을 사용하면 큰 문제가 없고 kernel의 버전이 낮을 경우 제대로 동작을 안하거나 문제가 생길 수 있습니다. 
가급적 최신버전으로 업데이트 해주세요.                    
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer small text-muted"></div>
              </div> 
            <div class="card mb-3">
              <div class="card-header">
                    
              </div>
            <div class="card-body">
              <div class="accordion" id="accordionExample">
                <div class="card">
                  <div class="card-header" id="heading91">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse91" aria-expanded="false" aria-controls="collapse91">
                           Docker 베이스 이미지 생성하기                      
                      </button>
                    </h2>
                  </div>
                  <div id="collapse91" class="collapse" aria-labelledby="heading91" data-parent="#accordionExample">
                    <div class="card-body">
                      <ul>
                        <li>우분투 베이스 이미지 생성하기</li>
                        <li>CentOS 베이스 이미지 생성하기</li>
                        <li>빈 베이스 이미지 생성하기</li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="heading92">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse92" aria-expanded="false" aria-controls="collapse92">
                         Docker 안에서 Docker 실행하기                         
                      </button>
                    </h2>
                  </div>
                  <div id="collapse92" class="collapse" aria-labelledby="heading92" data-parent="#accordionExample">
                    <div class="card-body">
                        <pre>
                            <code class="shell" >
# dind 폴더 생성 후 아래의 git 경로에서 파일 다운로드 
$ git close https://github.com/pyrasis/dind.git

$ cd dind 

$ docker build --tag dind . 

# Docker Image를 통해서 컨테이너를 생성한다. 
# 여기에서 --previleged 옵션은 컨테이너 안에서 호스트의 리눅스 커널 기능을 모두 사용할 수 있도록 해줍니다. 
$ docker run run -i -t --previleged dind

# Docker 안의 Root 에서 
root$ 

# host -> dind 컨테이너 -> busybox 
$ docker run -i -t busybox:latest /bin/sh 
                            </code>
                          </pre>   
                          <hr>
                          <img src="../docker/dockerindocker.png" alt="" width="500" srcset="">        
                          <hr>
                          <img src="../docker/dockerindocker01.png" alt="" width="700"  srcset="">         
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="heading3">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
                                                
                      </button>
                    </h2>
                  </div>
                  <div id="collapse3" class="collapse" aria-labelledby="heading3" data-parent="#accordionExample">
                    <div class="card-body">
                  
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="heading4">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
                                                
                      </button>
                    </h2>
                  </div>
                  <div id="collapse4" class="collapse" aria-labelledby="heading4" data-parent="#accordionExample">
                    <div class="card-body">
                  
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="heading5">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse5" aria-expanded="false" aria-controls="collapse5">
                                                
                      </button>
                    </h2>
                  </div>
                  <div id="collapse5" class="collapse" aria-labelledby="heading5" data-parent="#accordionExample">
                    <div class="card-body">
                  
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="heading6">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse6" aria-expanded="false" aria-controls="collapse6">
                                                
                      </button>
                    </h2>
                  </div>
                  <div id="collapse6" class="collapse" aria-labelledby="heading6" data-parent="#accordionExample">
                    <div class="card-body">
                  
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="heading7">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse7" aria-expanded="false" aria-controls="collapse7">
                                                
                      </button>
                    </h2>
                  </div>
                  <div id="collapse7" class="collapse" aria-labelledby="heading7" data-parent="#accordionExample">
                    <div class="card-body">
                  
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer small text-muted"></div>
            </div>
        </div>
        <!-- /.container-fluid -->

        <!-- Sticky Footer -->
        <footer class="sticky-footer">
          <div class="container my-auto">
            <div class="copyright text-center my-auto">
              <span>Copyright © Your Website 2018</span>
            </div>
          </div>
        </footer>

      </div>
      <!-- /.content-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="cleancode">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
            <a class="btn btn-primary" href="login.html">Logout</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript-->
    <script src="../vendor/jquery/jquery.min.js"></script>
    <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="../vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Page level plugin JavaScript-->
    <script src="../vendor/chart.js/Chart.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="../js/sb-admin.min.js"></script>

    <!-- Demo scripts for this page-->
    <script src="../js/demo/chart-area-demo.js"></script>
    <script src="../js/demo/chart-bar-demo.js"></script>
    <script src="../js/demo/chart-pie-demo.js"></script>

  </body>

</html>
